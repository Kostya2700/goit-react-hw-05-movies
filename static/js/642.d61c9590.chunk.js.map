{"version":3,"file":"static/js/642.d61c9590.chunk.js","mappings":"gNAwEA,UApEe,WACb,OAA2BA,EAAAA,EAAAA,UAAS,IAApC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAOF,EAAaG,IAAI,SAE9BC,EAAAA,EAAAA,YAAU,WACK,KAATF,GAAwB,OAATA,IACnBG,EAAAA,EAAAA,IAAgBH,GAAMI,MAAK,SAAAC,GAEzB,GAAoB,IAAhBA,EAAKC,OAAc,OAAOC,QAAQC,IAAI,oBAC1ChB,GAAU,OAAIa,GACf,GACF,GAAE,CAACL,IAwBJ,OACE,iCACE,iBAAMS,SAjBW,SAAAC,GACnBA,EAAEC,iBACFjB,EAAU,IACY,KAAlBD,EAAOmB,SACXT,EAAAA,EAAAA,IAAgBV,GACbW,MAAK,SAAAS,GACe,IAAfA,EAAIP,OAIRd,GAAU,OAAIqB,IAHZN,QAAQC,IAAI,KAIf,IACAM,OAAM,SAAAJ,GAAC,OAAIH,QAAQC,IAAIE,EAAhB,GACX,EAIG,UACE,4BACE,kBACEK,KAAK,OACLC,YAAY,gBACZC,SA7BW,SAAAP,GACnBhB,EAAUgB,EAAEQ,cAAcC,MAAMC,eAChC,IAAMpB,EAAOU,EAAEW,OAAOF,MAEtBpB,EAD4B,KAATC,EAAc,CAAEA,KAAAA,GAAS,CAAC,EAE9C,EAyBSmB,MAAO1B,SAIb,+BACGF,QADH,IACGA,OADH,EACGA,EAAO+B,KAAI,YAA0B,IAAvBC,EAAsB,EAAtBA,GAAIvB,EAAkB,EAAlBA,KAAMwB,EAAY,EAAZA,MACvB,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,kBAAaF,GACfG,MAAO,CAAEC,KAAMhC,EAASiC,SAAWjC,EAASF,QAF9C,SAIGO,GAAQwB,KALJD,EASZ,QAIR,C","sources":["components/pages/Movies/Movies.jsx"],"sourcesContent":["import { searchMovieName } from 'Api/api';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movie, setMovies] = useState([]);\n  const [search, setSearch] = useState('');\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const name = searchParams.get('name');\n  // console.log('Movies ~ names', name);\n  useEffect(() => {\n    if (name === '' || name === null) return;\n    searchMovieName(name).then(resp => {\n      // console.log(resp);\n      if (resp.length === 0) return console.log('Film not defined');\n      setMovies([...resp]);\n    });\n  }, [name]);\n\n  const handleSearch = e => {\n    setSearch(e.currentTarget.value.toLowerCase());\n    const name = e.target.value;\n    const nextParams = name !== '' ? { name } : {};\n    setSearchParams(nextParams);\n  };\n\n  const changeSubmit = e => {\n    e.preventDefault();\n    setSearch('');\n    if (search.trim() === '') return;\n    searchMovieName(search)\n      .then(res => {\n        if (res.length === 0) {\n          console.log('no');\n          return;\n        }\n        setMovies([...res]);\n      })\n      .catch(e => console.log(e));\n  };\n\n  return (\n    <>\n      <form onSubmit={changeSubmit}>\n        <label>\n          <input\n            type=\"text\"\n            placeholder=\"Search movies\"\n            onChange={handleSearch}\n            value={search}\n          />\n        </label>\n      </form>\n      <ul>\n        {movie?.map(({ id, name, title }) => {\n          return (\n            <li key={id}>\n              <Link\n                to={`/movies/${id}`}\n                state={{ from: location.pathname + location.search }}\n              >\n                {name || title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\nexport default Movies;\n"],"names":["useState","movie","setMovies","search","setSearch","location","useLocation","useSearchParams","searchParams","setSearchParams","name","get","useEffect","searchMovieName","then","resp","length","console","log","onSubmit","e","preventDefault","trim","res","catch","type","placeholder","onChange","currentTarget","value","toLowerCase","target","map","id","title","to","state","from","pathname"],"sourceRoot":""}