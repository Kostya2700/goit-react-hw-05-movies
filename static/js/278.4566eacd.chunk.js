"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{9278:function(e,r,t){t.r(r);var n=t(2982),a=t(5861),c=t(885),u=t(7757),s=t.n(u),i=t(8550),o=t(2791),l=t(7689),p=t(6731),h=t(1993),f=t(4691),v=t(184);r.default=function(){var e=(0,o.useState)([]),r=(0,c.Z)(e,2),t=r[0],u=r[1],m=(0,o.useState)(""),b=(0,c.Z)(m,2),d=b[0],x=b[1],w=(0,o.useState)(!1),k=(0,c.Z)(w,2),g=k[0],j=k[1],S=(0,l.TH)(),Z=(0,p.lr)(),y=(0,c.Z)(Z,2),C=y[0],_=y[1],T=C.get("search");(0,o.useEffect)((function(){if(""!==T&&null!==T){var e=function(){var e=(0,a.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.kb)(T);case 3:if(0!==(r=e.sent).length){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",u((function(e){return(0,n.Z)(r)})));case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}}),[T]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),x(""),u([]),""===d.trim())return h.Am.warn("Please write correct movie name");var r=function(){var e=(0,a.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,(0,i.kb)(d);case 4:if(0!==(r=e.sent).length){e.next=8;break}return h.Am.warn("This movie not found"),e.abrupt("return");case 8:u((0,n.Z)(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("onSearchMovies ~ error",e.t0);case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();r(),_({search:d})},children:[(0,v.jsx)("label",{children:(0,v.jsx)("input",{type:"text",placeholder:"Search movies",onChange:function(e){x(e.currentTarget.value.toLowerCase())},value:d})}),(0,v.jsx)("button",{type:"submit",children:"Search"})]}),(0,v.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){var r=e.id,t=e.name,n=e.title;return(0,v.jsx)("li",{children:(0,v.jsx)(p.rU,{to:"/movies/".concat(r),state:{from:S.pathname+S.search},children:t||n})},r)}))}),g&&(0,v.jsx)(f.no,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper"})]})}}}]);
//# sourceMappingURL=278.4566eacd.chunk.js.map